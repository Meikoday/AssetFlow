# 电脑资产管理系统 - 服务器端

此目录包含电脑资产管理系统的服务器端代码。服务器使用Node.js和Express框架构建，提供API和静态文件服务。

## 🚀 功能

- **提供RESTful API** - 用于资产数据的管理
- **静态文件服务** - 为前端应用提供文件服务
- **数据存储** - 使用JSON文件存储资产数据
- **支持局域网访问** - 监听所有网络接口，允许局域网内设备访问
- **智能IP检测** - 自动识别物理网卡地址，过滤虚拟网卡
- **分类显示网络接口** - 清晰区分物理网卡和虚拟网卡

## 📦 安装

```bash
# 安装依赖
npm install
```

## 🛠️ 使用

### 启动服务器

```bash
# 启动服务器
node server.js
```

服务器将默认监听在端口80上，并绑定到所有网络接口（0.0.0.0）。
启动后，服务器会智能分析网络接口并显示推荐的内网IP地址，局域网内的所有设备都可以通过这些地址访问系统。

### 智能IP地址检测

服务器启动时会对网络接口进行智能分析：

1. **物理网卡识别**：
   - 自动识别带有"以太网"、"Ethernet"、"WLAN"、"Wi-Fi"等关键词的网卡
   - 这些地址会被标记为"推荐使用"

2. **虚拟网卡过滤**：
   - 自动识别并过滤VMware、VirtualBox等虚拟网卡
   - 过滤掉以".1"结尾的地址（通常是虚拟网卡或网关）
   - 这些地址会被单独显示为"其他可能的地址"

3. **使用建议**：
   - 优先使用"推荐地址"部分列出的IP
   - 如果没有推荐地址，再考虑使用其他地址

### 环境变量

- `PORT` - 服务器端口，默认为80
- `HOST` - 服务器绑定地址，默认为0.0.0.0（所有网络接口）

### 数据目录

- `/data` - 存储资产数据的目录
  - `assets.json` - 资产数据文件（自动创建）

## 🖥️ API端点

### 资产管理

- `GET /api/assets` - 获取所有资产
- `GET /api/assets/:id` - 获取特定资产
- `POST /api/assets` - 创建新资产
- `PUT /api/assets/:id` - 更新资产
- `DELETE /api/assets/:id` - 删除资产

## 🌐 访问服务器

服务器现在支持三种方式访问：

1. **本地访问**：http://localhost:80
2. **内网IP访问**：http://[推荐的内网IP]:80（如 http://192.168.1.100:80）
3. **计算机名访问**：http://[计算机名]:80（如 http://SERVER-PC:80）

## 🔒 注意事项

- 服务器允许局域网内的任何设备访问，请确保在可信网络中使用
- 如果实际物理网卡未被正确识别，您仍可以在输出的所有IP地址中选择合适的地址
- 如果防火墙阻止访问，需要允许80端口（或自定义端口）的入站流量
- 服务器不包含身份验证机制，不建议直接暴露在公网环境中 